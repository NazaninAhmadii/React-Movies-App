(this["webpackJsonpreact-movies-app"]=this["webpackJsonpreact-movies-app"]||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(92),a(93),a(155)),s=a(153),l=Object(s.a)((function(e){return{root:{background:"linear-gradient(180deg, #017eff 30%, #01e8f8 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(245, 245, 245, .3)",color:"white",height:"10vh",padding:"0 30px",position:"relative",marginTop:"10px"},header:{fontSize:"3vw",fontWeight:"bold",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})),u=function(){var e=l();return r.a.createElement(i.a,null,r.a.createElement(i.a,{className:e.root},r.a.createElement("div",{className:e.header},"React Movies App")))},m=a(13),p=a.n(m),h=a(19),g=a(46),d=a(47),f=a(51),v=a(50),y=a(159),b=a(168),E=a(171),x=a(170),S=a(74),I=a.n(S),w=a(164),C=Object(s.a)((function(e){return{button:{margin:e.spacing(1)},form:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",marginTop:e.spacing(4)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"400px"},formControl:{marginTop:e.spacing(1.1),marginRight:e.spacing(1),Width:"200px"},selectEmpty:{marginTop:e.spacing(1)}}})),T=function(e){var t=C();return r.a.createElement("form",{className:t.form,onSubmit:e.onSubmit},r.a.createElement(b.a,{label:"Search",name:"searchQuery",className:t.textField,margin:"normal",onChange:function(t){return e.onInputChange(t.target.value)},variant:"outlined"}),r.a.createElement(x.a,{variant:"outlined",className:t.formControl},r.a.createElement(E.a,{htmlFor:"outlined-age-native-simple"},"Search Type"),r.a.createElement(w.a,{native:!0,onChange:function(t){return e.onSelectChange(t.target.value)},label:"Search Type",inputProps:{name:"searchType",id:"outlined-age-native-simple"}},r.a.createElement("option",{key:"10",value:"multi"},"Multi"),r.a.createElement("option",{key:"20",value:"movie"},"Movies"),r.a.createElement("option",{key:"30",value:"tv"},"TV_Shows"))),r.a.createElement(y.a,{variant:"outlined",className:t.button,type:"submit",size:"large",color:"primary",startIcon:r.a.createElement(I.a,null)},"Search"))},O=a(75),j=a(163),k=a(166),N=a(162),P=a(76),L=a(165),Q=a(49),_=a.n(Q),R="a273cdc8ac770015c3619de02a0c369a",M="https://api.themoviedb.org/3",W=function(){var e=Object(h.a)(p.a.mark((function e(t,a){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M+"/"+t,e.prev=1,e.next=4,_.a.get(n,{params:{api_key:R,page:a}});case 4:return r=e.sent,c=r.data,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),A=a(160),F=a(119),B=a(161),D=a(78),H=Object(s.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(2),marginBottom:e.spacing(2)},paper:{padding:e.spacing(1),margin:"auto",width:"100%"},image:{width:200,height:280,position:"relative"},img:{display:"block",maxWidth:"100%",maxHeight:"100%"}}}));var U=function(e){var t=e.id,a=e.title,n=e.popularity,c=e.releasedDate,o=e.overview,i=e.imageUrl,s=H();return r.a.createElement("div",{className:s.root},r.a.createElement(F.a,{className:s.paper,key:t},r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0},r.a.createElement(D.a,{className:s.image},r.a.createElement("img",{className:s.img,alt:"complex",src:i}))),r.a.createElement(A.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(A.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(A.a,{item:!0,xs:!0},r.a.createElement(B.a,{gutterBottom:!0,variant:"h6"},a),r.a.createElement(B.a,{variant:"body1",gutterBottom:!0,color:"textSecondary"},"Released Date: ",c," | Popularity: ",n),r.a.createElement(B.a,{variant:"body2",color:"textSecondary"},o)))))))},V=function(){return r.a.createElement("h4",null,"Loading, please be patient :)")},z=function(e){var t=e.items,a=e.isLoading;return r.a.createElement(i.a,null,a?r.a.createElement(V,null):r.a.createElement("div",null,t.map((function(e){return r.a.createElement(U,{key:e.id,id:e.id,title:e.title?e.title:e.name,imageUrl:"http://image.tmdb.org/t/p/w500"+e.poster_path,popularity:e.popularity,releasedDate:e.release_date,overview:e.overview})}))))},G=Object(s.a)((function(e){return{root:{alignItems:"center",justifyContent:"center"},formControl:{margin:e.spacing(3),minWidth:120,alignItems:"center",justifyContent:"center"},selectEmpty:{marginTop:e.spacing(2)}}}));function J(e){for(var t=G(),a=[],n=0;n<e.category.length;n++)a.push(r.a.createElement("option",{key:n,value:e.category[n]},e.category[n]));return r.a.createElement("div",{className:t.root},r.a.createElement(x.a,{variant:"outlined",className:t.formControl},r.a.createElement(E.a,{htmlFor:"outlined-age-native-simple"},"Category"),r.a.createElement(w.a,{native:!0,onChange:function(t){return e.onSelectChange(t.target.value)},label:"Category",inputProps:{name:"catrgory",id:"outlined-age-native-simple"}},a)))}var q=a(167),$=Object(s.a)((function(e){return{root:{"& > *":{marginTop:e.spacing(5),marginBottom:e.spacing(10),position:"relative"}},pagination:{position:"absolute",left:"50%",transform:"translate(-50%)"}}}));function K(e){for(var t=e.itemsPerPage,a=e.totalItems,n=e.paginate,c=$(),o=[],i=1;i<=Math.ceil(a/t);i++)o.push(i);return r.a.createElement("div",{className:c.root},r.a.createElement(q.a,{count:a,color:"primary",onChange:function(e,t){return n(t)},className:c.pagination}))}var X=["popular","now_playing","top_rated","upcoming"],Y=["popular","top_rated","airing_today","on_the_air"],Z=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={items:[],isLoading:!1,source:e.props.source||"movie",searchQuery:e.props.searchQuery,searchType:e.props.searchType||"multi",category:"popular",totalPage:1,page:1,currentPage:1,indexOfLastItem:10,indexOfFirstItem:0,itemPerPage:10,currentItems:[]},e.onSelectChange=function(){var t=Object(h.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.currentPage,t.next=3,e.setState({category:a,currentPage:1});case 3:e.fetchItems(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchItems=function(t){var a=e.state,n=a.category,r=a.source,c=a.indexOfFirstItem,o=a.indexOfLastItem,i=r+"/"+n;e.setState({isLoading:!0}),W(i,t).then((function(t){e.setState({items:t.results,isLoading:!1,totalPage:Math.floor(2*t.total_pages),currentItems:t.results.slice(c,o)})}),(function(e){console.log("Error ","Something went wrong! ".concat(e))}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.page;this.fetchItems(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.isLoading,c=t.source,o=t.totalPage,s=t.currentItems,l=t.itemPerPage,u=function(){var t=Object(h.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({page:Math.ceil(n/2),currentPage:n,indexOfLastItem:n%2===1?10:20,indexOfFirstItem:n%2===1?0:10,currentItems:a.slice(n%2===1?10:20,n%2===1?0:10)});case 2:e.fetchItems(Math.ceil(n/2));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(i.a,null,"movie"===c?r.a.createElement(J,{category:X,onSelectChange:this.onSelectChange}):null,"tv"===c?r.a.createElement(J,{category:Y,onSelectChange:this.onSelectChange}):null,r.a.createElement(z,{items:s,isLoading:n}),r.a.createElement(K,{itemsPerPage:l,totalItems:o,paginate:u}))}}]),a}(n.Component),ee=Object(s.a)((function(e){return{root:{display:"flex"},box:{width:"100%",textAlign:"center"}}}));var te=function(e){var t=ee(),a=(e.children,e.value),n=e.index,c=(e.searchInitiated,e.searchText,e.searchQuery,e.searchType,e.searchItems,e.isLoading,Object(P.a)(e,["children","value","index","searchInitiated","searchText","searchQuery","searchType","searchItems","isLoading"]));return r.a.createElement("div",Object.assign({role:"tabpanel",className:t.root,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},c),0===a&&r.a.createElement(L.a,{p:3,className:t.box},r.a.createElement(Z,{source:"movie"})),1===a&&r.a.createElement(L.a,{p:3,className:t.box},r.a.createElement("h1",null,e.searchText),r.a.createElement(z,{items:e.searchItems,isLoading:e.isLoading})),2===a&&r.a.createElement(L.a,{p:3,className:t.box},r.a.createElement(Z,{source:"tv"})))};function ae(e){return r.a.createElement(N.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}var ne=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,margin:e.spacing(1),borderRadius:3,border:"2px solid #f5f5f5",boxShadow:"0 3px 5px 2px rgba(245, 245, 245, .3)"},tabColor:{backgroundColor:"#017eff"},tabPanel:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.spacing(2)}}}));var re=function(e){var t=ne(),a=r.a.useState(0),n=Object(O.a)(a,2),c=n[0],o=n[1];return r.a.createElement("div",{className:t.root},r.a.createElement(j.a,{position:"static"},r.a.createElement(k.a,{variant:"fullWidth",value:c,onChange:function(e,t){o(t)},"aria-label":"nav tabs example"},r.a.createElement(ae,{label:"MOVIES",className:t.tabColor}),r.a.createElement(ae,{label:"SEARCH RESULT",className:t.tabColor}),r.a.createElement(ae,{label:"TV SHOWS",className:t.tabColor}))),r.a.createElement(te,{value:c,className:t.tabPanel,searchQuery:e.searchQuery,searchType:e.searchType,searchText:e.searchText,searchInitiated:e.searchInitiated,searchItems:e.searchItems,isLoading:e.isLoading}))},ce=function(){var e=Object(h.a)(p.a.mark((function e(t,a,n){var r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=M+"/"+t,console.log(r),e.prev=2,e.next=5,_.a.get(r,{params:{api_key:R,query:a,page:n}});case 5:return c=e.sent,o=c.data,e.abrupt("return",o);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),oe=function(e){Object(f.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchItems:[],isLoading:!1,searchQuery:"",searchType:"multi",searchInitiated:!1,searchText:"Please Enter a SEARCH"},e.handleInputChange=function(t){e.setState({searchQuery:t,searchText:"Please initiate the SEARCH ..."}),0===t.length&&e.setState({searchInitiated:!1,searchText:"Please Enter a SEARCH"})},e.onSelectChange=function(){var t=Object(h.a)(p.a.mark((function t(a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.next=3,e.setState({searchType:a});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSubmit=function(t,a){var n=e.state,r=n.searchQuery,c=n.searchType,o=n.searchInitiated;t.preventDefault(),console.log("search on Submit:",r),r.length>0&&e.setState({searchInitiated:!0,searchText:""}),console.log("Search Type: ",c),console.log("Search initiated: ",o),ce("search/"+c,r).then((function(t){console.log(t),e.setState({searchItems:t.results,isLoading:!1}),0===t.length&&e.setState({searchText:"Sorry, there were no results"})}),(function(e){console.log("Error ","Something went wrong! ".concat(e))}))},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state,t=e.searchQuery,a=e.searchType,n=e.searchInitiated,c=e.searchText,o=e.isLoading,s=e.searchItems;return r.a.createElement(i.a,null,r.a.createElement(T,{onInputChange:this.handleInputChange,onSelectChange:this.onSelectChange,onSubmit:this.handleSubmit}),r.a.createElement(re,{searchQuery:t,searchType:a,searchInitiated:n,searchText:c,searchItems:s,isLoading:o}))}}]),a}(n.Component);var ie=function(){return r.a.createElement(i.a,{fixed:!0},r.a.createElement(u,null),r.a.createElement(oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(117)},92:function(e,t,a){},93:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.364bc938.chunk.js.map